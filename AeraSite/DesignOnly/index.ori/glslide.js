(function($){$.fn.glSlide=function(opt){var settings=jQuery.extend(true,{isWinLoad:true,productScrollWitch:"ul",list:"ul > li",row:1,seeColumn:1,step:1,speed:"normal",orientation:"left",isAutoPlay:3000,isBtn:{left:"#left",right:"#right",isChangeState:true},bugD1Widht:0},opt);var isWinLoad=settings.isWinLoad,productScrollWitch=settings.productScrollWitch,list=settings.list,row=settings.row,seeColumn=settings.seeColumn,step=settings.step,speed=settings.speed,orientation=settings.orientation,isAutoPlay=settings.isAutoPlay,btn=settings.isBtn,btnLeft=$(btn.left),btnRight=$(btn.right),btnIsChangeState=btn.isChangeState,bugD1Widht=settings.bugD1Widht;var $this=$(this);var thisselector=$this.selector;var d1=$this,d2=d1.find(productScrollWitch),d3=d1.find(list);var d1Widht=d1.width();if(bugD1Widht!=0){d1Widht=bugD1Widht}else{if(d1Widht==0){alert("Err:d1Widht==0")}};var d3OldSize=d3.size();var d3Size=d3OldSize*3;var splitWidht=d1Widht/seeColumn;var stepWidht=step*splitWidht;var d2OldWidht=splitWidht*Math.ceil(d3OldSize/row);var d2Widht=d2OldWidht*3;if(d2OldWidht<d1Widht)return false;for(var i=0;i<d3OldSize;i++){d3.eq(i).clone().appendTo(d2);d3.eq(d3OldSize-i-1).clone().prependTo(d2)};d2.width(d2Widht+100);d1.scrollLeft(d2OldWidht);var flag=true;var left=function(e){if(!flag)return false;flag=false;if(btnIsChangeState){orientation="left"};d1.animate({scrollLeft:d1.scrollLeft()+stepWidht},speed,function(){for(i=1;i<=step*row;i++){d2.children().eq(0).appendTo(d2)};d1.scrollLeft(d2OldWidht);flag=true});return false};var right=function(e){if(!flag)return false;flag=false;if(btnIsChangeState){orientation="right"};d1.animate({scrollLeft:d1.scrollLeft()-stepWidht},speed,function(){for(i=1;i<=step*row;i++){d2.children().eq(d3Size-1).prependTo(d2)};d1.scrollLeft(d2OldWidht);flag=true});return false};var timerID;var autoPlay=function(){switch(orientation){case"left":timerID=window.setInterval(left,isAutoPlay);break;case"right":timerID=window.setInterval(right,isAutoPlay);break};return false};var autoStop=function(){window.clearInterval(timerID);return false};if(isAutoPlay){if(isWinLoad){$(window).load(autoPlay)}else{autoPlay()};$this.hover(autoStop,autoPlay);if(btn){btnLeft.hover(autoStop,autoPlay);btnRight.hover(autoStop,autoPlay)}};if(btn){btnLeft.click(left);btnRight.click(right)};return $this}})(jQuery);